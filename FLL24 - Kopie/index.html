<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href = "res/styles/main.css">
    <link rel = "stylesheet" href = "res/styles/text.css">

    <title>Document</title>
</head>
<body>

    <section class = "top">
        <span class="inline">   

            <input class = "left" placeholder="Suche Vereine"type="text" id="searchwindow">

            <button class = "left" id="btn" onclick="enter()">suchen</button>
            <script>
                function enter(){
                    let p = document.getElementById("searchwindow").value
                    document.getElementById("btn").tags = p
                    search()
                }
                
            </script>
            <img class = "right" src="res/styles/png/logo.jpeg" alt="HobbyFinder">
        </span>

    </section>

    <section class = "bottom">
        <div class ="spacer layer1"></div>

        <div>
            <div id="results">
                <script type="text/javascript" src="res/read.js"></script>

            </div>

            <br><br><br><br><br>
        </div>
    </section>
    <script type="text/javascript">
        function search(){
                let results = document.getElementsByClassName("tags")

            for (let i = 0; i < results.length; i++) {

                //Tags zum jeweiligen Verein an Stelle i
                let CorrespondingTags = results[i].getElementsByClassName("tag")
                //save the innerhtml of each of the correspondingtags to a list
                let TagList = []
                for (let j = 0; j < CorrespondingTags.length; j++) {
                    TagList.push(CorrespondingTags[j].innerHTML)
                }
                console.log(TagList)

                //Suchfeld abgleichen
                //tags mit Suchfeld abgleichen
                for (let j = 0; j < TagList.length; j++) {
                    //get text entered into text input field with id "searchwindow"
                    let prompt = document.getElementById("btn").tags
                    console.log(prompt)
                    console.log(document.getElementById("btn").tags)
                    //if prompt is contained in the tag, change the background color of the tag to red and make it bigger
                    if (TagList[j].includes(prompt)) {
                        CorrespondingTags[j].style.borderColor = "#B45"
                        CorrespondingTags[j].style.backgroundColor = "#622"
                        CorrespondingTags[j].style.fontSize = "2.2vw"
                        CorrespondingTags[j].style.color="#FCC"
                        // if prompt is empty, return to the default settings
                        if (prompt == "") {
                            CorrespondingTags[j].style.borderColor = "#445"
                            CorrespondingTags[j].style.backgroundColor = "#445"
                            CorrespondingTags[j].style.fontSize = "1.6vw"
                            CorrespondingTags[j].style.color = "#FFF"
                        }
                    }
                    else{
                        CorrespondingTags[j].style.borderColor = "#445"
                        CorrespondingTags[j].style.backgroundColor = "#445"
                        CorrespondingTags[j].style.fontSize = "1.2vw"
                        //make tags alpha lower
                        CorrespondingTags[j].style.color = "rgba(200, 200, 200, 0.3)"
                    }
                    
                }
            }

        }
        
    </script>

</body>
</html>